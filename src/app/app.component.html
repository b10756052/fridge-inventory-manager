<div class="app-container">
  <!-- PWA 安裝提示橫幅 -->
  <div class="install-prompt" *ngIf="showInstallPrompt">
    <div class="install-prompt-content">
      <span class="install-icon">✨</span>
      <span class="install-text">將冰箱管家加到主畫面，更方便使用唷</span>
    </div>
    <div class="install-prompt-actions">
      <button class="install-btn" (click)="installPWA()">立即安裝</button>
      <button class="close-btn" (click)="dismissInstallPrompt()" title="關閉">
        ✕
      </button>
    </div>
  </div>

  <!-- 固定的頭部和導航區域 -->
  <div class="sticky-header-wrapper">
    <header>
      <div class="header-left">
        <div class="logo-icon">🧊</div>
        <h1>{{ appName }}</h1>
      </div>
      <div class="header-right">
        <button
          class="icon-btn settings-btn"
          (click)="openSettings()"
          title="設定"
        >
          <span class="icon">⚙️</span>
        </button>
        <button class="add-item-btn" (click)="openModalForNewItem()">
          <span class="icon">+</span>
          <span class="text">新增物品</span>
        </button>
      </div>
    </header>

    <nav class="location-tabs">
      <button
        *ngFor="let tab of storageLocations"
        [class.active]="currentTab === tab.value"
        (click)="currentTab = tab.value"
        class="tab-button"
      >
        <span class="tab-icon">{{ getLocationIcon(tab.value) }}</span>
        <span class="tab-label">{{ tab.label }}</span>
      </button>
    </nav>
  </div>

  <main class="inventory-display">
    <app-inventory-list
      [location]="currentTab"
      (editItem)="onEditItem($event)"
      (deleteItem)="onDeleteItem($event)"
    ></app-inventory-list>
  </main>

  <app-item-modal
    *ngIf="isModalOpen"
    [itemToEdit]="itemToEdit"
    [currentLocation]="currentTab"
    (close)="closeModal()"
  ></app-item-modal>

  <app-settings *ngIf="isSettingsOpen" (close)="closeSettings()"></app-settings>

  <!-- 回到頂部按鈕 -->
  <button
    *ngIf="showScrollToTop"
    class="back-to-top"
    (click)="scrollToTop()"
    title="回到最上層"
  >
    <span class="icon">↑</span>
  </button>
</div>
